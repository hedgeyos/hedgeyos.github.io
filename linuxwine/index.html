<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Linux Wine Lab Slides</title>
  <style>
    :root {
      --bg: #0b1020;
      --fg: #e6e9f2;
      --muted: #9aa3b2;
      --accent: #68d391;
      --code-bg: #10172a;
    }
    html, body { margin: 0; padding: 0; background: var(--bg); color: var(--fg); }
    #loading {
      min-height: 100vh;
      display: grid;
      place-items: center;
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      color: var(--muted);
    }
    .remark-slide-content {
      font-family: "Segoe UI", "Noto Sans", "Helvetica Neue", Arial, sans-serif;
      background: linear-gradient(160deg, #0b1020 0%, #101831 100%);
      color: var(--fg);
      font-size: 24px;
      line-height: 1.35;
      padding: 1.1em 1.4em;
    }
    .remark-slide-content h1,
    .remark-slide-content h2,
    .remark-slide-content h3 {
      color: #ffffff;
      letter-spacing: 0.2px;
      margin-top: 0;
    }
    .remark-slide-number {
      color: var(--muted);
      opacity: 0.9;
    }
    .remark-inline-code,
    .remark-code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      background: var(--code-bg);
      color: #d7e3ff;
      border-radius: 8px;
    }
    .remark-code {
      padding: 0.7em;
      font-size: 0.75em;
    }
    .remark-slide-content a {
      color: var(--accent);
      text-decoration: none;
    }
    .remark-slide-content ul { margin-top: 0.5em; }
    .remark-slide-content li { margin: 0.25em 0; }
  </style>
</head>
<body>
  <div id="loading">Loading slides...</div>
  <script src="https://cdn.jsdelivr.net/npm/remark@0.14.0/remark.min.js"></script>
  <script>
    async function start() {
      const loading = document.getElementById('loading');
      try {
        const res = await fetch('./slides.md', { cache: 'no-store' });
        if (!res.ok) {
          throw new Error('Failed to load slides.md (' + res.status + ')');
        }
        const md = await res.text();
        const slideSource = md
          .replace(/^#\s+.*$/m, '')
          .split(/^##\s+/m)
          .map((part) => part.trim())
          .filter(Boolean)
          .map((part, i) => (i === 0 ? '## ' + part : '---\n## ' + part))
          .join('\n');

        loading.remove();
        remark.create({
          source: slideSource,
          ratio: '16:9',
          navigation: { scroll: false, touch: true, click: false },
          highlightStyle: 'monokai'
        });
      } catch (err) {
        loading.textContent = 'Error: ' + err.message;
      }
    }
    start();
  </script>
</body>
</html>
